{
  "kind": "build_request",
  "title": "Create comprehensive admin dashboard with analytics and metrics",
  "projectName": "NPJ Shopping",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-19",
      "text": "Create an admin dashboard page displaying key business metrics including total products count, total orders count, pending orders count, low stock products count, and total revenue from all completed orders",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "provive me dashbord for me of this"
        ]
      },
      "acceptanceCriteria": [
        "Dashboard displays a grid of metric cards showing total products, total orders, pending orders, low stock items, and revenue",
        "Each metric card shows the numeric value with a descriptive label",
        "Metrics are automatically calculated from existing data",
        "Dashboard is accessible from the admin panel navigation",
        "Dashboard uses the existing modern blue e-commerce design theme"
      ]
    },
    {
      "id": "REQ-20",
      "text": "Add backend query methods to retrieve aggregated statistics: getTotalProducts, getTotalOrders, getPendingOrdersCount, getLowStockCount, and getTotalRevenue",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "getTotalProducts returns the count of all products",
        "getTotalOrders returns the count of all orders",
        "getPendingOrdersCount returns count of orders with 'pending' status",
        "getLowStockCount returns count of products with stock below threshold (e.g., 10 units)",
        "getTotalRevenue calculates sum of all order totals for delivered orders",
        "All methods are accessible only to authenticated admin users"
      ]
    },
    {
      "id": "REQ-21",
      "text": "Create custom React hooks for each dashboard statistic: useTotalProducts, useTotalOrders, usePendingOrders, useLowStockCount, and useTotalRevenue that fetch data from the backend",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Each hook uses React Query for data fetching with appropriate cache keys",
        "Hooks handle loading and error states",
        "Hooks are only enabled when user is authenticated as admin",
        "Data refreshes when navigating to the dashboard"
      ]
    },
    {
      "id": "REQ-22",
      "text": "Add a navigation link to the admin dashboard from the AdminPanel page header and from the main Header component when user is logged in as admin",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Dashboard link appears in admin navigation alongside existing admin options",
        "Link is only visible to authenticated admin users",
        "Clicking the link navigates to the dashboard route",
        "Dashboard link uses appropriate icon from lucide-react"
      ]
    },
    {
      "id": "REQ-23",
      "text": "Display a recent orders section on the admin dashboard showing the 5 most recent orders with order ID, customer name, status, and total price, with a link to view all orders",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Recent orders section appears below the metrics cards",
        "Shows order ID, customer name, status badge, and formatted total price",
        "Orders are sorted by creation date with newest first",
        "Includes a 'View All Orders' link that navigates to AdminOrders page",
        "Displays appropriate message if no orders exist"
      ]
    }
  ],
  "constraints": [
    "Maintain the single-actor backend architecture",
    "Do not modify immutable frontend paths including useInternetIdentity.ts, useActor.ts, main.tsx, and components/ui directory",
    "Use existing authorization patterns for admin access control",
    "Follow the established modern blue e-commerce design theme"
  ],
  "nonGoals": [
    "Real-time dashboard updates or websockets",
    "Advanced analytics like charts or graphs",
    "Export functionality for dashboard data",
    "Date range filtering for metrics",
    "Comparison with previous periods"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}